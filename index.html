<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Risk YÃ¶netimi Â· EtkileÅŸimli EÄŸitim (V2)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
  --bg1:#020617;--bg2:#0b1630;
  --card:rgba(255,255,255,.07);
  --ok:#22c55e;--bad:#ef4444;
  --pri:#3b82f6;--sec:#22c55e;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:Inter,Arial,sans-serif;color:#fff;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
}
.container{max-width:1100px;margin:40px auto;padding:20px}
.hero{text-align:center;margin-bottom:30px}
.hero h1{font-size:36px;margin:0}
.hero p{opacity:.75;font-size:18px}

.topbar{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px}
.stats{display:flex;gap:10px;flex-wrap:wrap}
.stat{background:rgba(255,255,255,.08);padding:8px 14px;border-radius:14px;font-size:14px}

.controls{display:flex;gap:12px;flex-wrap:wrap;margin:22px 0}
select,button{
  padding:14px 16px;border-radius:16px;border:none;font-size:15px;
}
select{background:rgba(255,255,255,.08);color:#fff}
button.primary{
  background:linear-gradient(135deg,var(--sec),var(--pri));
  color:#fff;cursor:pointer
}
button.ghost{background:rgba(255,255,255,.08);color:#fff;cursor:pointer}

.progress{height:10px;background:#020617;border-radius:10px;overflow:hidden;margin:20px 0}
.bar{height:100%;width:0%;background:linear-gradient(90deg,var(--sec),var(--pri))}

.card{
  background:var(--card);border-radius:24px;padding:30px;margin-top:20px;
  box-shadow:0 10px 40px rgba(0,0,0,.25)
}
.meta{opacity:.7;font-size:13px;margin-bottom:10px}
.q{font-size:22px;margin-bottom:16px}
.opt{
  padding:14px;border-radius:14px;margin-top:10px;
  background:rgba(255,255,255,.05);cursor:pointer
}
.opt:hover{background:rgba(255,255,255,.12)}
.opt.ok{background:rgba(34,197,94,.35)}
.opt.bad{background:rgba(239,68,68,.45)}

.explain{
  margin-top:16px;
  font-size:15px;
  line-height:1.5;
  opacity:.9
}

.final{
  text-align:center
}
.final h2{font-size:30px}
.final p{font-size:18px}

.footer{text-align:center;opacity:.6;margin:40px 0 10px}

.hidden{display:none}
</style>
</head>
<body>
<div class="container">

  <div class="hero">
    <h1>Risk YÃ¶netimi Â· EtkileÅŸimli EÄŸitim</h1>
    <p>Bu bir sÄ±nav deÄŸil. Bu, risk bakÄ±ÅŸ aÃ§Ä±nÄ± analiz eden bir deneyim.</p>
  </div>

  <div class="topbar">
    <div class="stats">
      <div class="stat">Toplam: <b id="sTotal">0</b></div>
      <div class="stat">DoÄŸru: <b id="sOk">0</b></div>
      <div class="stat">YanlÄ±ÅŸ: <b id="sBad">0</b></div>
      <div class="stat">BaÅŸarÄ±: <b id="sRate">%0</b></div>
    </div>
  </div>

  <div class="controls">
    <select id="profile">
      <option value="">Profilini seÃ§</option>
      <option value="Temel">Temel Risk AlgÄ±sÄ±</option>
      <option value="ISO">ISO / ERM YaklaÅŸÄ±mÄ±</option>
      <option value="Proje">Proje Riskleri</option>
      <option value="Ä°nsan">Ä°nsan & KÃ¼ltÃ¼r</option>
      <option value="Senaryo">GerÃ§ek Senaryolar</option>
    </select>
    <button id="btnAnswer" class="primary">YanÄ±tla / Devam</button>
    <button id="btnReset" class="ghost">SÄ±fÄ±rla</button>
  </div>

  <div class="progress"><div id="bar" class="bar"></div></div>

  <div id="quiz" class="card hidden">
    <div id="qMeta" class="meta"></div>
    <div id="qText" class="q"></div>
    <div id="options"></div>
    <div id="explain" class="explain"></div>
  </div>

  <div id="final" class="card final hidden"></div>

  <div class="footer">Â© 2025 Â· HazÄ±rlayan: Ekrem Åžen</div>

</div>

<script>
function speak(t){
  try{
    const u=new SpeechSynthesisUtterance(t);
    u.lang='tr-TR';
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  }catch(e){}
}

const QUESTIONS = [
  ...Array.from({length:30},(_,i)=>({profile:"Temel",
    q:`[Temel ${i+1}] Risk kavramÄ± en doÄŸru nasÄ±l ele alÄ±nÄ±r?`,
    o:["Kesin tehdit","OlasÄ±lÄ±k ve etki","Sadece finansal","Teknik hata"],
    a:1,
    e:"Bu soru senin kavramsal risk algÄ±nÄ± Ã¶lÃ§er. Risk, belirsizliktir; olasÄ±lÄ±k ve etki birlikte deÄŸerlendirilir."
  })),
  ...Array.from({length:30},(_,i)=>({profile:"ISO",
    q:`[ISO ${i+1}] ISO 31000 risk yÃ¶netimine nasÄ±l yaklaÅŸÄ±r?`,
    o:["Denetim","Ã‡erÃ§eve ve prensip","Sertifika","IT standardÄ±"],
    a:1,
    e:"Bu cevap, standartlarÄ± ezberleyip ezberlemediÄŸini deÄŸil, yaklaÅŸÄ±mÄ± anlayÄ±p anlamadÄ±ÄŸÄ±nÄ± gÃ¶sterir."
  })),
  ...Array.from({length:30},(_,i)=>({profile:"Proje",
    q:`[Proje ${i+1}] Proje riskleri ne zaman en etkin yÃ¶netilir?`,
    o:["KapanÄ±ÅŸ","GerÃ§ekleÅŸince","Planlama","Teslim sonrasÄ±"],
    a:2,
    e:"Bu soru senin Ã¶ngÃ¶rÃ¼ ve planlama refleksini Ã¶lÃ§er."
  })),
  ...Array.from({length:30},(_,i)=>({profile:"Ä°nsan",
    q:`[Ä°nsan ${i+1}] Ä°nsan kaynaklÄ± risklerin temel zorluÄŸu nedir?`,
    o:["BÃ¼tÃ§e","DavranÄ±ÅŸ","Teknoloji","DokÃ¼man"],
    a:1,
    e:"Ä°nsan davranÄ±ÅŸÄ± Ã¶ngÃ¶rÃ¼lemezdir. Bu, kÃ¼ltÃ¼rel risk farkÄ±ndalÄ±ÄŸÄ±nÄ± test eder."
  })),
  ...Array.from({length:30},(_,i)=>({profile:"Senaryo",
    q:`[Senaryo ${i+1}] RegÃ¼lasyon deÄŸiÅŸikliÄŸi hangi risk tÃ¼rÃ¼dÃ¼r?`,
    o:["Operasyon","Finans","Uyum","Ä°nsan"],
    a:2,
    e:"Bu soru gerÃ§ek hayatta riskleri doÄŸru sÄ±nÄ±flandÄ±rÄ±p sÄ±nÄ±flandÄ±ramadÄ±ÄŸÄ±nÄ± Ã¶lÃ§er."
  }))
];

let active=[], idx=0, selected=-1, ok=0, bad=0;

const elQuiz=document.getElementById('quiz');
const elFinal=document.getElementById('final');
const elMeta=document.getElementById('qMeta');
const elText=document.getElementById('qText');
const elOpts=document.getElementById('options');
const elExplain=document.getElementById('explain');
const elBar=document.getElementById('bar');

const sTotal=document.getElementById('sTotal');
const sOk=document.getElementById('sOk');
const sBad=document.getElementById('sBad');
const sRate=document.getElementById('sRate');

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}

function updateStats(){
  sTotal.textContent=active.length;
  sOk.textContent=ok;
  sBad.textContent=bad;
  const rate=ok+bad?Math.round(ok/(ok+bad)*100):0;
  sRate.textContent='%'+rate;
  elBar.style.width=active.length?Math.round((idx/active.length)*100)+'%':'0%';
}

function render(){
  selected=-1;
  elExplain.textContent='';
  const q=active[idx];
  elMeta.textContent=`${q.profile} Â· Soru ${idx+1}/${active.length}`;
  elText.textContent=q.q;
  elOpts.innerHTML='';
  q.o.forEach((opt,i)=>{
    const d=document.createElement('div');
    d.className='opt';
    d.textContent=opt;
    d.onclick=()=>{
      [...elOpts.children].forEach(x=>x.classList.remove('ok','bad'));
      selected=i;
      if(i===q.a){d.classList.add('ok');}
      else{d.classList.add('bad'); elOpts.children[q.a].classList.add('ok');}
    };
    elOpts.appendChild(d);
  });
  updateStats();
}

document.getElementById('btnAnswer').onclick=()=>{
  if(!active.length||selected===-1){speak("LÃ¼tfen bir seÃ§enek seÃ§.");return;}
  const q=active[idx];
  if(selected===q.a){ok++; speak("DoÄŸru. "+q.e);}
  else{bad++; speak("YanlÄ±ÅŸ. "+q.e);}
  elExplain.textContent=q.e;
  idx++;
  if(idx<active.length){setTimeout(render,700);}
  else finish();
};

document.getElementById('btnReset').onclick=()=>{
  idx=0;ok=0;bad=0;selected=-1;
  elQuiz.classList.add('hidden');
  elFinal.classList.add('hidden');
  updateStats();
};

document.getElementById('profile').onchange=e=>{
  const p=e.target.value;
  if(!p) return;
  active=shuffle(QUESTIONS.filter(q=>q.profile===p));
  idx=0;ok=0;bad=0;
  elFinal.classList.add('hidden');
  elQuiz.classList.remove('hidden');
  render();
};

function finish(){
  elQuiz.classList.add('hidden');
  const rate=Math.round(ok/(ok+bad||1)*100);
  let msg=rate<40
    ?"Risk farkÄ±ndalÄ±ÄŸÄ±n baÅŸlangÄ±Ã§ seviyesinde. Temel kavramlarÄ± gÃ¼Ã§lendirmelisin."
    :rate<70
    ?"Ä°yi bir temel var. Karar ve senaryo pratiÄŸiyle seviye atlayabilirsin."
    :"GÃ¼Ã§lÃ¼ bir risk yÃ¶netimi bakÄ±ÅŸ aÃ§Ä±sÄ±na sahipsin.";
  elFinal.innerHTML=`<h2>KiÅŸisel DeÄŸerlendirme</h2>
  <p>BaÅŸarÄ± OranÄ±n: <b>%${rate}</b></p>
  <p>${msg}</p>
  <button class="primary" onclick="speak('${msg}')">ðŸ”Š Sesli Dinle</button>`;
  elFinal.classList.remove('hidden');
  updateStats();
  speak(msg);
}
</script>
</body>
</html>
