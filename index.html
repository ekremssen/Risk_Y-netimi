<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Risk Yönetimi · Etkileşimli Eğitim</title>

<style>
body{
  margin:0;
  font-family:Inter,Arial;
  background:radial-gradient(circle at top,#0b1228,#060b18);
  color:#fff;
}
.container{max-width:1400px;margin:auto;padding:24px}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.stats span{margin-left:14px;font-weight:600}
.controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:20px}
input,select,button{
  background:#020617;color:#fff;
  border:1px solid #1e293b;border-radius:12px;
  padding:10px 14px
}
button{cursor:pointer}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(420px,1fr));
  gap:20px
}
.card{
  background:linear-gradient(180deg,#0f172a,#020617);
  border:1px solid #1e293b;
  border-radius:18px;padding:20px
}
.tag{font-size:12px;color:#38bdf8}
.option{display:block;margin:8px 0;cursor:pointer}
.result{margin-top:10px;font-size:14px}
.ok{color:#22c55e}
.bad{color:#ef4444}
.explain{margin-top:6px;color:#94a3b8}
.report{
  margin-top:40px;padding:24px;
  border-radius:18px;
  background:#020617;border:1px solid #1e293b
}
footer{margin-top:40px;text-align:center;color:#94a3b8}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>Risk Yönetimi · Etkileşimli Eğitim</h1>
  <div class="stats">
    <span>Toplam: <b id="total"></b></span>
    <span>Doğru: <b id="correct">0</b></span>
    <span>Yanlış: <b id="wrong">0</b></span>
    <span>Başarı: <b id="rate">0%</b></span>
  </div>
</header>

<div class="controls">
  <select id="level">
    <option value="all">Tümü</option>
    <option value="1">Temel</option>
    <option value="2">ISO / ERM</option>
    <option value="3">Proje</option>
    <option value="4">İnsan</option>
    <option value="5">Senaryo</option>
  </select>
  <input id="search" placeholder="Ara: KRI, appetite, vendor..." />
  <button onclick="shuffle()">Karıştır</button>
  <button onclick="resetAll()">Skoru Sıfırla</button>
</div>

<div class="grid" id="quiz"></div>
<div id="report" class="report" style="display:none"></div>

<footer>
Senior Mentor Modu · Eğitim + Değerlendirme
</footer>

</div>

<script>
const questions = [
/* ========= SEVİYE 1 – TEMEL ========= */
{l:1,t:"Temel",q:"Risk en doğru nasıl tanımlanır?",o:["Kesin olumsuz olay","Olasılık ve etki birlikte","Sadece finansal kayıp","Teknik hata"],a:1,e:"Risk belirsizliktir. Olasılık ve etki birlikte düşünülür."},
{l:1,t:"Temel",q:"Risk ile problem farkı nedir?",o:["Risk geleceğe aittir","Risk sadece projedir","Problem yönetilemez","Risk negatiftir"],a:0,e:"Problem gerçekleşmiştir, risk henüz gerçekleşmemiştir."},
{l:1,t:"Temel",q:"Düşük olasılık–yüksek etki riski nasıl ele alınır?",o:["Önemsiz","Göz ardı","Kritik","Risk değildir"],a:2,e:"Gerçek hayatta en yıkıcı riskler bu gruptadır."},
{l:1,t:"Temel",q:"Risk yönetimi hangi soruya cevap verir?",o:["Ne oldu","Neden oldu","Olursa ne olur","Kim yaptı"],a:2,e:"Risk yönetimi geleceğe bakar."},
{l:1,t:"Temel",q:"Risk neden yazılı olmalıdır?",o:["Formalite","Denetim","Kurumsal hafıza","Yönetici için"],a:2,e:"Yazılmayan risk unutulur."},

/* ========= SEVİYE 2 – ISO / ERM ========= */
{l:2,t:"ISO 31000",q:"ISO 31000 nedir?",o:["Sertifika","Denetim standardı","Risk prensipleri","IT standardı"],a:2,e:"ISO 31000 sertifika değil, çerçevedir."},
{l:2,t:"ERM",q:"Risk appetite neyi ifade eder?",o:["Maks zarar","Alınmak istenen risk","Risk toleransı","Toplam risk"],a:1,e:"Risk appetite stratejik bir karardır."},
{l:2,t:"ERM",q:"Risk tolerance nedir?",o:["İştah","Operasyonel sınır","KPI","KRI"],a:1,e:"Tolerance kabul edilebilir sapma aralığıdır."},
{l:2,t:"ERM",q:"KRI neyi ölçer?",o:["Performans","Risk sinyali","KPI","Hedef"],a:1,e:"KRI erken uyarı göstergesidir."},
{l:2,t:"ERM",q:"COSO ERM amacı nedir?",o:["Denetim","Sertifika","Kurumsal risk entegrasyonu","IT güvenliği"],a:2,e:"COSO ERM riskleri kuruma entegre eder."},

/* ========= SEVİYE 3 – PROJE ========= */
{l:3,t:"Proje",q:"Scope creep nedir?",o:["Teknik hata","Kapsamın kontrolsüz büyümesi","Kaynak eksikliği","Zaman baskısı"],a:1,e:"Scope creep projeleri sessizce bitirir."},
{l:3,t:"Proje",q:"Vendor lock-in ne anlama gelir?",o:["Teknik borç","Tedarikçiye bağımlılık","İnsan riski","Regülasyon"],a:1,e:"Alternatif yoksa risk vardır."},
{l:3,t:"Proje",q:"Go-live risklerinin temel nedeni nedir?",o:["Doküman","Test eksikliği","Sunum","İletişim"],a:1,e:"Test edilmemiş sistem sürpriz üretir."},
{l:3,t:"Proje",q:"Teknik borç hangi riski artırır?",o:["Kısa vadeli","Uzun vadeli","Finansal","İtibar"],a:1,e:"Borç zamanla faize dönüşür."},
{l:3,t:"Proje",q:"Regülasyon belirsizliği ne doğurur?",o:["Hız","Stratejik risk","Performans","KPI"],a:1,e:"Belirsizlik yönetilmezse ceza gelir."},

/* ========= SEVİYE 4 – İNSAN ========= */
{l:4,t:"İnsan",q:"Key person risk nedir?",o:["Motivasyon","Bilginin tek kişide olması","İletişim","Performans"],a:1,e:"Tek kişiye bağlı bilgi büyük risktir."},
{l:4,t:"İnsan",q:"Sessiz ekip neyin göstergesidir?",o:["Uyum","Risk körlüğü","Başarı","Disiplin"],a:1,e:"Kimse konuşmuyorsa risk büyür."},
{l:4,t:"İnsan",q:"Karar gecikmesi hangi riski artırır?",o:["Operasyonel","Stratejik","Finansal","Teknik"],a:1,e:"Zamanında karar alınmazsa fırsat kaçar."},
{l:4,t:"İnsan",q:"Yönetici baskısı ne doğurur?",o:["Hız","Kalite","Gizlenen risk","Başarı"],a:2,e:"Baskı riskleri görünmez yapar."},
{l:4,t:"İnsan",q:"Kültürel risk nedir?",o:["İnsan","Teknik","Davranışsal","Finans"],a:2,e:"Kültür riskleri sessizdir."},

/* ========= SEVİYE 5 – SENARYO ========= */
{l:5,t:"Senaryo",q:"Belirsiz regülasyonda en doğru yaklaşım?",o:["Beklemek","Görmezden gelmek","Senaryo analizi","İptal"],a:2,e:"Senaryo düşünmek yönetimi rahatlatır."},
{l:5,t:"Senaryo",q:"Yönetim riskleri küçümsüyorsa?",o:["Cesaret","Risk körlüğü","Liderlik","Başarı"],a:1,e:"Bu ciddi bir kültürel risktir."},
{l:5,t:"Senaryo",q:"Bir risk gerçekleştiyse artık?",o:["Risk","Problem","Fırsat","KPI"],a:1,e:"Artık problem yönetimidir."},
{l:5,t:"Senaryo",q:"En tehlikeli risk hangisidir?",o:["Bilinmeyen","Konuşulmayan","Finansal","Teknik"],a:1,e:"Konuşulmayan risk öldürür."},
{l:5,t:"Senaryo",q:"Risk lideri bakış açısı nedir?",o:["Sıfır risk","Cesaret","Dengeli karar","Hız"],a:2,e:"Risk almak ama bilinçli almak."
}
];

let correct=0, wrong=0, answered={};
const quiz=document.getElementById("quiz");

function render(){
 quiz.innerHTML="";
 const lv=document.getElementById("level").value;
 const s=document.getElementById("search").value.toLowerCase();

 questions.filter(x=>{
   return (lv==="all"||x.l==lv) &&
          (x.q.toLowerCase().includes(s)||x.t.toLowerCase().includes(s));
 }).forEach((q,i)=>{
   const c=document.createElement("div");
   c.className="card";
   c.innerHTML=`
     <span class="tag">${q.t}</span>
     <h3>${q.q}</h3>
     ${q.o.map((o,ix)=>`
       <label class="option">
         <input type="radio" name="q${i}" value="${ix}"> ${o}
       </label>`).join("")}
     <button>Yanıtla</button>
     <div class="result"></div>
   `;
   const btn=c.querySelector("button");
   const res=c.querySelector(".result");
   btn.onclick=()=>{
     if(answered[i])return;
     const sel=c.querySelector("input:checked");
     if(!sel)return;
     answered[i]=true;
     if(+sel.value===q.a){correct++;res.innerHTML=`<span class="ok">✔ Doğru</span><div class="explain">${q.e}</div>`;}
     else{wrong++;res.innerHTML=`<span class="bad">✖ Yanlış</span><div class="explain">${q.e}</div>`;}
     update();
   };
   quiz.appendChild(c);
 });
 document.getElementById("total").innerText=questions.length;
}

function update(){
 document.getElementById("correct").innerText=correct;
 document.getElementById("wrong").innerText=wrong;
 const r=Math.round((correct/(correct+wrong))*100)||0;
 document.getElementById("rate").innerText=r+"%";
 buildReport(r);
}

function buildReport(r){
 const rep=document.getElementById("report");
 rep.style.display="block";
 let msg="";
 if(r<30) msg="Temel risk farkındalığın düşük. Kavramları tekrar çalış.";
 else if(r<55) msg="Teori var ama uygulama zayıf.";
 else if(r<75) msg="Uygulama iyi, kurumsal dil geliştirilmeli.";
 else if(r<90) msg="Senior seviye. Stratejik risklere odaklan.";
 else msg="Risk lideri bakış açısı.";
 rep.innerHTML=`<h2>Kişisel Gelişim Yorumu</h2><p>${msg}</p>`;
}

function shuffle(){questions.sort(()=>Math.random()-0.5);render();}
function resetAll(){correct=0;wrong=0;answered={};render();document.getElementById("report").style.display="none";}

render();
</script>

</body>
</html>
